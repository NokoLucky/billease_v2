(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{17759:(e,r,a)=>{"use strict";a.d(r,{C5:()=>N,MJ:()=>y,eI:()=>p,lR:()=>x,lV:()=>o,zB:()=>m});var t=a(95155),s=a(12115),l=a(66634),i=a(62177),d=a(59434),n=a(85057);let o=i.Op,c=s.createContext({}),m=e=>{let{...r}=e;return(0,t.jsx)(c.Provider,{value:{name:r.name},children:(0,t.jsx)(i.xI,{...r})})},u=()=>{let e=s.useContext(c),r=s.useContext(f),{getFieldState:a,formState:t}=(0,i.xW)(),l=a(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=r;return{id:d,name:e.name,formItemId:"".concat(d,"-form-item"),formDescriptionId:"".concat(d,"-form-item-description"),formMessageId:"".concat(d,"-form-item-message"),...l}},f=s.createContext({}),p=s.forwardRef((e,r)=>{let{className:a,...l}=e,i=s.useId();return(0,t.jsx)(f.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:r,className:(0,d.cn)("space-y-2",a),...l})})});p.displayName="FormItem";let x=s.forwardRef((e,r)=>{let{className:a,...s}=e,{error:l,formItemId:i}=u();return(0,t.jsx)(n.J,{ref:r,className:(0,d.cn)(l&&"text-destructive",a),htmlFor:i,...s})});x.displayName="FormLabel";let y=s.forwardRef((e,r)=>{let{...a}=e,{error:s,formItemId:i,formDescriptionId:d,formMessageId:n}=u();return(0,t.jsx)(l.DX,{ref:r,id:i,"aria-describedby":s?"".concat(d," ").concat(n):"".concat(d),"aria-invalid":!!s,...a})});y.displayName="FormControl",s.forwardRef((e,r)=>{let{className:a,...s}=e,{formDescriptionId:l}=u();return(0,t.jsx)("p",{ref:r,id:l,className:(0,d.cn)("text-sm text-muted-foreground",a),...s})}).displayName="FormDescription";let N=s.forwardRef((e,r)=>{var a;let{className:s,children:l,...i}=e,{error:n,formMessageId:o}=u(),c=n?String(null!=(a=null==n?void 0:n.message)?a:""):l;return c?(0,t.jsx)("p",{ref:r,id:o,className:(0,d.cn)("text-sm font-medium text-destructive",s),...i,children:c}):null});N.displayName="FormMessage"},33349:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(40157).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},66695:(e,r,a)=>{"use strict";a.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>d,wL:()=>m});var t=a(95155),s=a(12115),l=a(59434);let i=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});d.displayName="CardHeader";let n=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});n.displayName="CardTitle";let o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let m=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})});m.displayName="CardFooter"},73454:(e,r,a)=>{Promise.resolve().then(a.bind(a,85672)),Promise.resolve().then(a.bind(a,52899))},85057:(e,r,a)=>{"use strict";a.d(r,{J:()=>o});var t=a(95155),s=a(12115),l=a(40968),i=a(74466),d=a(59434);let n=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(l.b,{ref:r,className:(0,d.cn)(n(),a),...s})});o.displayName=l.b.displayName},85672:(e,r,a)=>{"use strict";a.d(r,{ProfileCard:()=>g});var t=a(95155),s=a(66695),l=a(30285),i=a(32044),d=a(93004),n=a(56104),o=a(35695),c=a(91394),m=a(33349);let u=(0,a(40157).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var f=a(62177),p=a(55594),x=a(90221),y=a(17759),N=a(62523),h=a(87481),v=a(50172),j=a(12115);let w=p.z.object({displayName:p.z.string().min(1,"Display name is required")});function g(){var e,r,a;let{user:p,refetchUser:g}=(0,i.A)(),b=(0,o.useRouter)(),{toast:C}=(0,h.dj)(),R=(0,f.mN)({resolver:(0,x.u)(w),defaultValues:{displayName:(null==p?void 0:p.displayName)||""}});(0,j.useEffect)(()=>{p&&R.reset({displayName:p.displayName||""})},[p,R]);let{isSubmitting:I}=R.formState,k=async()=>{let e=(0,d.xI)(n.y);await (0,d.CI)(e),b.push("/auth/signin")},S=async e=>{if(!p)return;let r=(0,d.xI)(n.y);if(r.currentUser)try{await (0,d.r7)(r.currentUser,{displayName:e.displayName}),await g(),C({title:"Success!",description:"Your profile has been updated."})}catch(e){C({variant:"destructive",title:"Error",description:"There was a problem updating your profile."})}};return p?(0,t.jsx)(s.Zp,{children:(0,t.jsx)(y.lV,{...R,children:(0,t.jsxs)("form",{onSubmit:R.handleSubmit(S),children:[(0,t.jsx)(s.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(c.eu,{children:[(0,t.jsx)(c.BK,{src:null!=(a=p.photoURL)?a:void 0}),(0,t.jsx)(c.q5,{children:(null==(e=p.displayName)?void 0:e[0].toUpperCase())||(null==(r=p.email)?void 0:r[0].toUpperCase())})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(s.ZB,{children:"My Profile"}),(0,t.jsx)(s.BT,{children:p.email})]})]})}),(0,t.jsx)(s.Wu,{className:"space-y-4",children:(0,t.jsx)(y.zB,{control:R.control,name:"displayName",render:e=>{let{field:r}=e;return(0,t.jsxs)(y.eI,{children:[(0,t.jsx)(y.lR,{children:"Display Name"}),(0,t.jsx)(y.MJ,{children:(0,t.jsx)(N.p,{placeholder:"Your Name",...r})}),(0,t.jsx)(y.C5,{})]})}})}),(0,t.jsxs)(s.wL,{className:"flex justify-between",children:[(0,t.jsxs)(l.$,{variant:"outline",onClick:k,children:[(0,t.jsx)(m.A,{className:"mr-2"}),"Sign Out"]}),(0,t.jsxs)(l.$,{type:"submit",disabled:I,children:[I?(0,t.jsx)(v.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(u,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})})}):null}},85977:(e,r,a)=>{"use strict";a.d(r,{H4:()=>w,_V:()=>j,bL:()=>v});var t=a(12115),s=a(46081),l=a(39033),i=a(52712),d=a(63540),n=a(95155),o="Avatar",[c,m]=(0,s.A)(o),[u,f]=c(o),p=t.forwardRef((e,r)=>{let{__scopeAvatar:a,...s}=e,[l,i]=t.useState("idle");return(0,n.jsx)(u,{scope:a,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:(0,n.jsx)(d.sG.span,{...s,ref:r})})});p.displayName=o;var x="AvatarImage",y=t.forwardRef((e,r)=>{let{__scopeAvatar:a,src:s,onLoadingStatusChange:o=()=>{},...c}=e,m=f(x,a),u=function(e,r){let[a,s]=t.useState("idle");return(0,i.N)(()=>{if(!e)return void s("error");let a=!0,t=new window.Image,l=e=>()=>{a&&s(e)};return s("loading"),t.onload=l("loaded"),t.onerror=l("error"),t.src=e,r&&(t.referrerPolicy=r),()=>{a=!1}},[e,r]),a}(s,c.referrerPolicy),p=(0,l.c)(e=>{o(e),m.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==u&&p(u)},[u,p]),"loaded"===u?(0,n.jsx)(d.sG.img,{...c,ref:r,src:s}):null});y.displayName=x;var N="AvatarFallback",h=t.forwardRef((e,r)=>{let{__scopeAvatar:a,delayMs:s,...l}=e,i=f(N,a),[o,c]=t.useState(void 0===s);return t.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(e)}},[s]),o&&"loaded"!==i.imageLoadingStatus?(0,n.jsx)(d.sG.span,{...l,ref:r}):null});h.displayName=N;var v=p,j=y,w=h},91394:(e,r,a)=>{"use strict";a.d(r,{BK:()=>n,eu:()=>d,q5:()=>o});var t=a(95155),s=a(12115),l=a(85977),i=a(59434);let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(l.bL,{ref:r,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});d.displayName=l.bL.displayName;let n=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(l._V,{ref:r,className:(0,i.cn)("aspect-square h-full w-full",a),...s})});n.displayName=l._V.displayName;let o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)(l.H4,{ref:r,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});o.displayName=l.H4.displayName}},e=>{var r=r=>e(e.s=r);e.O(0,[992,644,521,419,902,961,441,684,358],()=>r(73454)),_N_E=e.O()}]);